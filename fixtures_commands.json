from users.models import User
import json
file = open('users.json')
js = json.load(file)
for i in js:
	gender = i['fields']['gender']
	if gender:
		gender = gender.upper()
	u = User(id=i['pk'], first_name=i['fields']['first_name'], last_name=i['fields']['last_name'], gender=gender, facebook_user_id=i['fields']['facebook_id'], is_active=i['fields']['is_active'], is_admin=i['fields']['is_staff'], email=i['fields']['email'], password=i['fields']['password'])
	u.save()


from professors.models import Professor
from universities.models import University
from departments.models import Department
from users.models import User
import json
file = open('professors.json')
js = json.load(file)
for i in js:
    gender = i['fields']['sex'].upper()
    names = i['fields']['name'].split(" ")
    print names
    if len(names) == 1:
        fname = names[0]
    elif len(names) == 2:
        fname = names[0]
        lname = names[1]
    else:
        if names[0].endswith("."):
            fname = names[0] + " " + names[1]
            if len(names[2]) <= 2 and not names[2] == "de":
                fname += " " + names[2]
                lname = " ".join(names[3:])
            else:
                lname = " ".join(names[2:])
        else:
            fname = names[0]
            if len(names[1]) <= 2:
                fname += " " + names[1]
                lname = " ".join(names[2:])
            else:
                lname = " ".join(names[1:])
    print fname + " - " + lname
    u = Professor(id=i['pk'], first_name=fname, last_name=lname, gender=gender, university=University.objects.get(id=i['fields']['university']), department=Department.objects.get(id=i['fields']['department']), created_by=User.objects.get(id=i['fields']['created_by']))
    u.save()
